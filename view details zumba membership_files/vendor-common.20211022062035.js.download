function removeDummyImg(){for(var e=vendorDetails.photos.length;e--;)vendorDetails.photos&&vendorDetails.photos[e].dummyImg&&vendorDetails.photos.splice(e,1)}function Openphotofilters(){$(".videofilters").css("display","none"),$(".photo").addClass("activelink"),$(".video").removeClass("activelink"),$(".facfilters").css("display","block"),$(".servfilters").css("display","block"),$(".mobfac").css("display","none"),$(".mobserv").css("display","none"),$(".mobservVideo").css("display","none"),$(".vidl").css("display","none"),$(".picl").css("display","inline"),$("#srid").css("display","none"),$("#sid").css("display","inline"),$("#srid").css("display","inline"),$("#len").css("display","inline"),$("#sidmob").css("display","inline"),$("#sridmob").css("display","none"),$("#grid").css("display","inline");var e=vendorDetails.photos.length;$(window).width()>767&&($("#sid").text(""),$("#sid").text("1"),$("#len").text(e)),picGridView("All",e)}$(document).click(function(e){var s=$(".timings");s.is(e.target)||0!==s.has(e.target).length||$("#timings").slideUp("slow")}),$(".time").click(function(){$("#timings").slideToggle("slow")}),$(".close-timings").click(function(){$("#timings").slideUp("slow")}),$(".backArrow").click(function(){window.history.back()}),sessionStorage.removeItem("membership_pro_upgrade"),removeDummyImg();var facopened="";$(".facheader").on("click",function(e){!0===facopened||""===facopened?($(".facheader").css("color","#f7a81e"),$(".servheader").css("color","#ffffff"),$(".mobserv").slideUp("slow"),$(".mobfac").slideDown("slow"),facopened=!1):($(".facheader").css("color","#ffffff"),$(".mobfac").slideUp("slow"),facopened=!0)});var servopened="";$(".servheader").on("click",function(e){!0===servopened||""===servopened?($(".servheader").css("color","#f7a81e"),$(".facheader").css("color","#ffffff"),$(".mobfac").slideUp("slow"),$(".mobserv").slideDown("slow"),servopened=!1):($(".servheader").css("color","#ffffff"),$(".mobserv").slideUp("slow"),servopened=!0)});var servopenedVideo="";function imageClicked(e,s){$(".class1").removeClass("fixed");var i=vendorDetails.photos;$("#image").attr("src","https://b.fitn.in/f/g/full/"+s),$("#imagemob").attr("src","https://b.fitn.in/f/g/full/"+s),$("#grid").css("display","none"),$("#grid2").css("display","none"),$("#image").css("display","block"),$(".image-container a").css("display","block"),$(".videofilters").css("display","none"),$(".facfilters").css("display","block"),$(".servfilters").css("display","block"),$(".photo").addClass("activelink"),$(".video").removeClass("activelink"),$(".mobfac").css("display","none"),$(".mobserv").css("display","none"),$(".mobservVideo").css("display","none"),$(".video-container").css("display","none"),$(".vidl").css("display","none"),$("#srid").css("display","none"),$(".picl").css("display","inline"),$("#len").css("display","none"),$("#len3").css("display","none"),$("#len2").css("display","inline"),""!==i[e].tags&&""!==i[e].servicetags&&($("#vendortag").css("display","inline"),""!==i[e].tags?$("#vendortag").text(i[e].tags):$("#vendortag").text(i[e].servicetags)),$("#vendortag2").css("display","none");var a=parseInt(e)+1;$("#sid").text(a),$("#sid").css("display","none"),$("#sidmob").text(a),$("#sidmob").css("display","inline"),$("#sridmob").css("display","none"),$("#lenmob").css("display","none"),$("#len2mob").css("display","inline"),$(".gridhide").css("display","block"),tagged="All",3==e&&(length=vendorDetails.photos.length,picGridView("All",length)),$.magnificPopup.open({preload:[1,1],zoom:{enabled:!0,duration:300,opener:function(e){return e.find(".gallery-thumb")}},items:{src:"#photo-gallery",type:"inline"}}),trackUserEvent("new_vendor_gallery",getVendorDetails())}function imageClickedInGrid(e,s,i,a){$("body").css("overflow","auto"),$(window).scrollTop(offsetHeader),$(".class1").removeClass("fixed"),$(".details").css({position:"static",width:"initial"}),$(".details2").css({position:"static",width:"initial"});var t=parseInt(e)+1,o=parseInt(i);tagged=a,$("#sid").css("display","inline"),$("#sid").text(t),$("#srid").css("display","inline"),$("#image").attr("src","https://b.fitn.in/f/g/full/"+s),$("#imagemob").attr("src","https://b.fitn.in/f/g/full/"+s),$("#grid").css("display","none"),$("#grid2").css("display","none"),$("#image").css("display","block"),$(".image-container a").css("display","block"),$("#imagemob").css("display","block"),$(".mobarrows").css("display","inline"),$(".gridhide").css("display","block"),$("#sidmob").text(t),$("#sidmob").css("display","inline"),$("#sridmob").css("display","none"),"undefined"!==a&&"All"!==a?($("#vendortag").css("display","block"),$("#vendortag2").css("display","block"),$("#vendortag").text(a),$("#vendortag2").text(a)):"All"==a&&($("#vendortag").css("display","none"),$("#vendortag2").css("display","none")),$(".picl").css("display","inline"),0===o||"0"===o?($("#len").css("display","none"),$("#len2").css("display","inline"),$("#lenmob").css("display","none"),$("#len2mob").css("display","inline"),$("#len3").css("display","none")):($("#len2").css("display","none"),$("#len").css("display","inline"),$("#lenmob").css("display","inline"),$("#len2mob").css("display","none"),$("#len").text(o),$("#lenmob").text(o),$("#len3").css("display","none"))}function videoClicked(e,s,i){$(".class1").removeClass("fixed");var a=JSON.parse(i);$("#srid").css("display","inline");var t=parseInt(e)+1;$("#srid").text(t),$(".facfilters").css("display","none"),$(".servfilters").css("display","none"),$(".videofilters").css("display","block"),$(".photo").removeClass("activelink"),$(".video").addClass("activelink"),$(".mobserv").css("display","none"),$(".mobservVideo").css("display","none"),$(".vidl").css("display","inline"),$(".picl").css("display","none"),$("#sid").css("display","none"),$("#image").css("display","none"),$("#imagemob").css("display","none"),$("#grid").css("display","none"),$("#grid2").css("display","none"),$(".video-container").css("display","block"),$("#len").css("display","none"),$("#len2").css("display","none"),$("#sidmob").css("display","inline"),$("#len3").css("display","inline"),$("#sridmob").css("display","none"),$("#lenmob").css("display","none"),$("#len2mob").css("display","inline"),$("#vendortag").text(a[e].servicetags),tagged="All";var o=s.replace("watch?v=","embed/");$.magnificPopup.open({preload:[1,1],zoom:{enabled:!0,duration:300,opener:function(e){return e.find(".gallery-thumb")}},items:{src:"#photo-gallery",type:"inline"}});var n;n='<iframe id="video" width="100%" height="450" src="'+o+'" frameborder="0" autoplay allowfullscreen></iframe>',$(".video-container").html(n)}function filter(e){$(".facheader").css("color","#ffffff"),$(".servheader").css("color","#ffffff"),$(".servheaderVideo").css("color","#ffffff"),$(".mobserv").slideUp("slow"),$(".mobfac").slideUp("slow"),$(".class1").removeClass("fixed");for(var s=vendorDetails.photos,i=0;i<s.length;i++)if(s[i].tags.length>0){for(var a=0;a<s[i].tags.length;a++)if(e==s[i].tags[a]){var t=parseInt(a)+1;$("#sid").text(t),$("#image").attr("src","https://b.fitn.in/f/g/full/"+s[i].url),$("#imagemob").attr("src","https://b.fitn.in/f/g/full/"+s[i].url);break}}else if(e==s[i].tags){var o=parseInt(i)+1;$("#sid").text(o),$("#image").attr("src","https://b.fitn.in/f/g/full/"+s[i].url);break}$("#image").css("display","block"),$("#imagemob").css("display","block"),$(".gridhide").css("display","none"),$("#grid").css("display","none"),$("#grid2").css("display","none"),$("#vendortag").text(e),$("#vendortag2").text(e),$(".video-container").css("display","none")}function filterService(e,s,i){$(".class1").removeClass("fixed");var a="",t="",o="";t="photos"==e?vendorDetails.photos:vendorDetails.videos;for(var n=0;n<t.length;n++)if(t[n].servicetags.length>0){for(var r=0;r<t[n].servicetags.length;r++)if(s==t[n].servicetags[r]){var d=t[n].url;if(d.includes("youtube")){var l=d.replace("watch?v=","embed/");$(".video-container").css("display","block");var c;c='<iframe id="video" width="100%" height="450" src="'+l+'" frameborder="0" autoplay allowfullscreen></iframe>',$(".video-container").html(c),$("#sid").css("display","none"),$("#srid").css("display","inline"),a=parseInt(n)+1,$("#srid").text(a),$("#len2").css("display","none"),o=parseInt(t[n].servicetags.length),$("#len").text(o),$("#len").css("display","inline"),$("#len3").css("display","none"),$("#vendortag").text(t[n].servicetags),$("#vendortag").css("display","inline"),$(".gridhide").css("display","block")}else $("#image").attr("src","https://b.fitn.in/f/g/full/"+t[n].url),$("#imagemob").attr("src","https://b.fitn.in/f/g/full/"+t[n].url),$("#image").css("display","block"),$("#imagemob").css("display","block"),$(".gridhide").css("display","none");$("#grid").css("display","none"),$("#grid2").css("display","none"),$("#vendortag").text(s),$("#vendortag2").text(s);break}}else if(s==t[n].servicetags){a=parseInt(n)+1,$("#sid").text(a),$("#image").attr("src","https://b.fitn.in/f/g/full/"+t[n].url),$("#grid").css("display","none"),$("#image").css("display","block"),$(".gridhide").css("display","block"),$("#vendortag").text(s),$("#vendortag2").text(s);break}}$(".servheaderVideo").on("click",function(e){!0===servopenedVideo||""===servopenedVideo?($(".servheaderVideo").css("color","#f7a81e"),$(".mobservVideo").slideDown("slow"),servopenedVideo=!1):($(".servheaderVideo").css("color","#ffffff"),$(".mobservVideo").slideUp("slow"),servopenedVideo=!0)});var offsetHeader,tagged="";function nextprevPhoto(e){$(".class1").removeClass("fixed");var s=[],i=[],a=vendorDetails.photos;void 0!==tagged&&"undefined"!==tagged&&"All"!==tagged&&(i=a.filter(function(e){if(void 0!==e.tags&&e.tags.indexOf(tagged)>-1||void 0!==e.servicetags&&e.servicetags.indexOf(tagged)>-1)return s.push(e),e})),void 0!==tagged&&"undefined"!==tagged&&"All"!==tagged||(i=s=a);var t=$("#sid").text()-1;"prev"==e?(t-=1)<0&&(t=s.length-1):(t+=1)==s.length&&(t=0),""!==i[t].tags&&""!==i[t].servicetags&&($("#vendortag").css("display","inline"),""!==i[t].tags?$("#vendortag").text(i[t].tags):$("#vendortag").text(i[t].servicetags));var o=parseInt(t)+1;$("#sid").text(o),$("#image").attr("src","https://b.fitn.in/f/g/full/"+i[t].url)}function nextprevMobile(e){$(".class1").removeClass("fixed");var s=[],i=[],a=vendorDetails.photos;void 0!==tagged&&"undefined"!=tagged&&"All"!==tagged&&(i=a.filter(function(e){if(void 0!==e.tags&&e.tags.indexOf(tagged)>-1||void 0!==e.servicetags&&e.servicetags.indexOf(tagged)>-1)return s.push(e),e})),void 0!==tagged&&"undefined"!==tagged&&"All"!==tagged||(i=s=a);var t=$("#sidmob").text()-1;"prev"==e?(t-=1)<0&&(t=s.length-1):(t+=1)===s.length&&(t=0),""!==i[t].tags&&""!==i[t].servicetags&&($("#vendortag").css("display","inline"),""!==i[t].tags?$("#vendortag").text(i[t].tags):$("#vendortag").text(i[t].servicetags));var o=parseInt(t)+1;$("#sidmob").text(o),$("#imagemob").attr("src","https://b.fitn.in/f/g/full/"+i[t].url)}function nextprevVideo(e,s){$(".class1").removeClass("fixed");var i=[];JSON.parse(s,function(e,s){if(void 0!==tagged&&"undefined"!=tagged)return s===tagged&&i.push(s),s}),void 0!==tagged&&"undefined"!==tagged&&"All"!==tagged||(i=JSON.parse(s));var a=$("#srid").text()-1,t="";"prev"===e?((a-=1)<0&&(a=i.length-1),t=i[a].url):((a+=1)===i.length&&(a=0),t=i[a].url);var o=parseInt(a)+1;$("#srid").text(o);var n;n='<iframe id="video" width="100%" height="450" src="'+t.replace("watch?v=","embed/")+'" frameborder="0" autoplay allowfullscreen></iframe>',$(".video-container").html(n)}function picGridView(e,s){$.magnificPopup.instance.isOpen||$.magnificPopup.open({preload:[1,1],zoom:{enabled:!0,duration:300,opener:function(e){return e.find(".gallery-thumb")}},items:{src:"#photo-gallery",type:"inline"}}),$("body").css("overflow","hidden"),offsetHeader=$(".class1").offset().top,$("#grid2").addClass("style-2"),$(".facheader").css("color","#ffffff"),$(".servheader").css("color","#ffffff"),$(".servheaderVideo").css("color","#ffffff"),$(".mobserv").slideUp("slow"),$(".mobfac").slideUp("slow");var i=$(".class1");i.css({"background-color":"#0b0b0b",opacity:"0.8","z-index":"10"}),i.addClass("fixed"),$(".details").css({position:"static",bottom:"70px",width:"initial"}),$(".details2").css({position:"fixed",bottom:"70px",width:"100%"});var a=vendorDetails.photos,t=[],o="",n=[];tagged=e,$("#grid").css("display","block"),$("#grid2").css("display","block"),$("#image").css("display","none"),$(".image-container a").css("display","none"),$("#imagemob").css("display","none"),$(".mobarrows").css("display","none"),$(".gridhide").css("display","none"),$(".picl").css("display","none"),void 0!==e&&"All"!==e?($("#vendortag").css("display","block"),$("#vendortag2").css("display","block"),$("#vendortag").text(e),$("#vendortag2").text(e)):"All"!==e&&void 0!==e||($("#vendortag").css("display","none"),$("#vendortag2").css("display","none")),$(".video-container").css("display","none"),o=void 0!==s?parseInt(s):$("#len").text(),t=a.filter(function(s){if((void 0!==e||"undefined"!==e)&&(void 0!==s.tags&&s.tags.indexOf(tagged)>-1||void 0!==s.servicetags&&s.servicetags.indexOf(tagged)>-1))return n.push(s),s}),void 0!==tagged&&"undefined"!==tagged&&"All"!==tagged||(t=a,n=a);for(var r=0,d="",l="";r!==o;)d+='<div class="mui-col-md-3 parts"><a onclick="imageClickedInGrid(\''+r+"', '"+t[r].url+"', '"+n.length+"','"+e+'\')"><div id="partImg" style="background: url(https://b.fitn.in/f/g/full/'+t[r].url+') center no-repeat;background-size: cover;"></div></a></div></div>',l+='<div class="mui-col-xs-6 parts"><a onclick="imageClickedInGrid(\''+r+"', '"+t[r].url+"', '"+n.length+"','"+e+'\')"><div id="partImg" style="background: url(https://b.fitn.in/f/g/full/'+t[r].url+') center no-repeat;background-size: cover;"></div></a></div></div>',$("#grid").html(d),$("#grid2").html(l),r++}function videoGridView(e,s){$("body").css("overflow","hidden"),$("#grid2").removeClass("style-2"),$(".facheader").css("color","#ffffff"),$(".servheader").css("color","#ffffff"),$(".servheaderVideo").css("color","#ffffff"),$(".mobserv").slideUp("slow"),$(".mobfac").slideUp("slow");var i=$(".class1");i.css({"background-color":"#0b0b0b",opacity:"0.8","z-index":"10"}),i.addClass("fixed"),$(".details").css({position:"static",bottom:"70px",width:"initial"}),$(".details2").css({position:"fixed",bottom:"70px",width:"100%"});var a=vendorDetails.videos;$(".facfilters").css("display","none"),$(".servfilters").css("display","none"),$(".videofilters").css("display","block"),$(".photo").removeClass("activelink"),$(".video").addClass("activelink"),$(".mobserv").css("display","none"),$(".mobservVideo").css("display","none"),$(".vidl").css("display","inline"),$(".picl").css("display","none"),$("#sid").css("display","none"),$("#srid").css("display","none"),$("#grid").css("display","block"),$("#grid2").css("display","block"),$("#image").css("display","none"),$("#imagemob").css("display","none"),$(".mobarrows").css("display","none"),$(".gridhide").css("display","none"),$(".picl").css("display","none"),$(".video-container").css("display","none"),$("#vendortag").css("display","none"),$("#vendortag2").css("display","none"),$("#len").css("display","none");var t=parseInt(s),o=[];data=a.filter(function(e){return(void 0!==e.tags&&e.tags.indexOf(tagged)>-1||void 0!==e.servicetags&&e.servicetags.indexOf(tagged)>-1)&&o.push(e),e});for(var n=0,r="",d="";n!==t;){var l=data[n].url;r+='<div class="mui-col-md-6" style="margin:1%;padding:0px; height:200px; width:48%;"><a><iframe id="video" width="100%" height="100%" src="'+(l=l.replace("watch?v=","embed/"))+'" frameborder="0" autoplay allowfullscreen></iframe></a></div></div>',d+='<div class="mui-col-xs-6 parts"><a><iframe id="video" width="100%" height="100%" src="'+l+'" frameborder="0" autoplay allowfullscreen></iframe></a></div></div>',$("#grid").html(r),$("#grid2").html(d),n++}}function checkinfoBlockHeight(){$(".vendor-information .main-about-section").height()>=200&&$(".container-readmore").show()}function serviceFilter(){$(".service-name-slot").removeClass("active-name-slot"),$(this).addClass("active-name-slot");var e=$(this).attr("data-serviceid");if("studio"!=vendortype||"onepass-vendor"==pagesource)-1==e?(resetAllServiceState("standard-membership"),filterServiceBasedOnServiceId(e,pagesource),openFirstService("standard-membership")):(filterServiceBasedOnServiceId(e,pagesource),openService(e));else{var s=getActiveOuterTab(),i=!(!s||"buy-membership"!=s),a=getActiveInnerTab("view-schedule");i?(a=getActiveInnerTab("buy-membership"),-1==e?(resetAllServiceState("buy-membership"),filterServiceBasedOnServiceId(e,pagesource),openFirstService("buy-membership")):(filterServiceBasedOnServiceId(e,pagesource),openService(e,"buy-membership"))):"view-batches"==a&&(-1==e?(resetAllServiceState("view-batches"),filterServiceBasedOnServiceId(e,pagesource),openFirstService("view-batches")):(filterServiceBasedOnServiceId(e,pagesource),openService(e,"view-batches"))),filterServiceBasedOnServiceId(e,pagesource,getActiveOuterTab()),maintainTheSelectedServiceAcrossTabs(e)}trackUserEvent("new_vendor_service_chip",{serviceName:$(this).text(),serviceId:e,tabName:getActiveOuterTab()})}function resetAllServiceState(e){$("#"+e+" .service-heading").removeClass("active-service");for(var s=$("#"+e+" .ratecard"),i=0;i<s.length;i++){openService($(s[i]).attr("data-serviceid"),e,!0)}}function getActiveOuterTab(){return $(".outer-tabs").find(".mui--is-active").find("a").attr("data-mui-controls")}function maintainTheSelectedServiceAcrossTabs(e){var s=getActiveOuterTab(),i=!(!s||"buy-membership"!=s),a=$("#view-batches .service-name-slot"),t=getMatchedServiceChip(e,a),o=$("#todays-schedule .service-name-slot"),n=getMatchedServiceChip(e,o),r=$("#buy-membership .service-name-slot"),d=getMatchedServiceChip(e,r);i?(-1!=t?(t.addClass("active-name-slot"),filterServiceBasedOnServiceId(e,pagesource,"view-batches")):(a.length>=2&&$(a[0]).addClass("active-name-slot"),filterServiceBasedOnServiceId(-1,pagesource,"view-batches")),-1!=n?(n.addClass("active-name-slot"),filterServiceBasedOnServiceId(e,"onepass-vendor",null)):(o.length>=2&&$(o[0]).addClass("active-name-slot"),filterServiceBasedOnServiceId(-1,"onepass-vendor",null))):"view-batches"==getActiveInnerTab("view-schedule")?(-1!=d?(d.addClass("active-name-slot"),filterServiceBasedOnServiceId(e,pagesource,"buy-membership")):(r.length>=2&&$(r[0]).addClass("active-name-slot"),filterServiceBasedOnServiceId(-1,pagesource,"buy-membership")),-1!=n?(n.addClass("active-name-slot"),filterServiceBasedOnServiceId(e,"onepass-vendor",null)):(o.length>=2&&$(o[0]).addClass("active-name-slot"),filterServiceBasedOnServiceId(-1,"onepass-vendor",null))):(-1!=d?(d.addClass("active-name-slot"),filterServiceBasedOnServiceId(e,pagesource,"buy-membership",!0)):(r.length>=2&&$(r[0]).addClass("active-name-slot"),filterServiceBasedOnServiceId(-1,pagesource,"buy-membership",!0)),-1!=t?(t.addClass("active-name-slot"),filterServiceBasedOnServiceId(e,pagesource,"view-batches",!0)):(a.length>=2&&$(a[0]).addClass("active-name-slot"),filterServiceBasedOnServiceId(-1,pagesource,"view-batches",!0)))}function getMatchedServiceChip(e,s){for(var i=-1,a=0;a<s.length;a++){var t=s[a];if($(t).attr("data-serviceid")==e){i=$(t);break}}return i}function getActiveInnerTab(e){return $("#"+e+" .inner-tabs").find(".mui--is-active").find("a").attr("data-mui-controls")}function filterServiceBasedOnServiceId(e,s,i,a){var t=$(".ratecard"),o="";(i&&(t=$("#"+i+" .ratecard")),"vendor"==s)?"view-schedule"==$(".outer-tabs").find(".mui--is-active").find("a").attr("data-mui-controls")&&"todays-schedule"==(o=$("#view-schedule .inner-tabs").find(".mui--is-active").find("a").attr("data-mui-controls"))&&(t=$(".service"),a&&(t=$("#"+i+" .ratecard"))):t=$(".service");if(t.addClass("hide"),"-1"==e)t.removeClass("hide"),t.removeClass("last-ratecard"),"view-batches"==o&&$(t[t.length-1]).addClass("last-ratecard");else for(var n=0;n<t.length;n++)$(t[n]).attr("data-serviceid")==e&&($(t[n]).removeClass("hide"),"view-batches"==o&&$(t[n]).addClass("last-ratecard"))}function openFirstService(e){var s=$(".service-heading");e&&(s=$("#"+e+" .service-heading")),$(s[0]).addClass("active-service"),$(s[0]).addClass("border-bottom-grey"),$(s[0]).closest(".ratecard").addClass("mui--z2");var i=$(s[0]).closest(".ratecard").find(".service-detail-container").height();$(s[0]).closest(".ratecard").find(".service-details").css({height:i}),$(s[0]).closest(".ratecard").find(".expand-arrow").css({transform:"rotate(180deg)"});var a=$(s[0]).closest(".ratecard").find(".service-name").find("span.service-view-info"),t=$(s[0]).closest(".ratecard").find(".service-name").find("i.service-view-info");$(window).width()>600?a.length>=1&&a.hasClass("hide")&&a.removeClass("hide"):t.length>=1&&t.hasClass("hide")&&t.removeClass("hide")}function openService(e,s,i){if(-1!=e){var a=$("#serviceId-"+e).find(".service-heading"),t=$(a).closest(".ratecard").find(".service-name").find("span.service-view-info"),o=$(a).closest(".ratecard").find(".service-name").find("i.service-view-info");if(s&&(a=$("#"+s+" #serviceId-"+e).find(".service-heading")),i)return $(a).removeClass("active-service"),$(a).removeClass("border-bottom-grey"),$(a).closest(".ratecard").removeClass("mui--z2"),serviceDetails=$(a).closest(".ratecard").find(".service-details"),serviceDetails.css({height:""}),$(a).closest(".ratecard").find(".expand-arrow").css({transform:"rotate(0deg)"}),t=$(a).closest(".ratecard").find(".service-name").find("span.service-view-info"),o=$(a).closest(".ratecard").find(".service-name").find("i.service-view-info"),void($(window).width()>600?t.hasClass("hide")||t.addClass("hide"):o.hasClass("hide")||o.addClass("hide"));$(a).addClass("active-service"),$(a).addClass("border-bottom-grey");var n=$(a).closest(".ratecard").find(".service-detail-container").height();$(a).closest(".ratecard").find(".service-details").css({height:n}),$(a).closest(".ratecard").find(".expand-arrow").css({transform:"rotate(180deg)"}),$(a).closest(".ratecard").addClass("mui--z2"),t=$(a).closest(".ratecard").find(".service-name").find("span.service-view-info"),o=$(a).closest(".ratecard").find(".service-name").find("i.service-view-info"),$(window).width()>600?t.length>=1&&t.hasClass("hide")&&t.removeClass("hide"):o.length>=1&&o.hasClass("hide")&&o.removeClass("hide")}}$(document).keydown(function(e){$("#photo-gallery").hasClass("mfp-hide")||("37"==e.keyCode?nextprevPhoto("prev"):"39"==e.keyCode&&nextprevPhoto("next"))}),$("#bookIt").on("click",function(e){$(".bloading").removeClass("hide")}),document.onkeydown=function(e){if("none"!=$(".picl").css("display"))switch(e.keyCode){case 37:direction="prev",nextprevPhoto(direction);break;case 39:direction="next",nextprevPhoto(direction)}27==e.keyCode&&$("body").css("overflow","auto")},$(".close-popup").on("click",function(){$("body").css("overflow","auto"),$.magnificPopup.close(),$(window).scrollTop(0)}),function(){for(var e=document.querySelectorAll(".youtube"),s=0;s<e.length;s++){var i="https://i.ytimg.com/vi/"+e[s].dataset.embed+"/hqdefault.jpg",a=new Image;a.src=i,a.addEventListener("load",void e[s].appendChild(a))}}(),checkinfoBlockHeight(),$(".container-readmore").click(function(){$(".main-about-section").hasClass("readmore")?($(".main-about-section").removeClass("readmore"),$(".main-about-section").addClass("readless"),$(".container-readmore span").text("View More")):$(".main-about-section").hasClass("readless")&&($(".main-about-section").addClass("readmore"),$(".main-about-section").removeClass("readless"),$(".container-readmore span").text("View Less"))}),$(".virtual-tour-title").on("click",function(){openPopUp("virtual-tour","open");var e=$(".virtual-tour").find("iframe").attr("data-src");$(".virtual-tour").find("iframe").attr("src",e)}),$(document).on("click",".service-name-slot",serviceFilter),Date.prototype.addDays=function(e){var s=new Date(this.valueOf());return s.setDate(s.getDate()+e),s},window.today=new Date;var days=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],daysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months=["January","February","March","April","May","June","July ","August","September","October","November","December"];window.availableDates=[];for(var i=0;i<7;i++){var dateToShow=window.today.addDays(i),dayOfMonth=dateToShow.getDate()<10?"0"+dateToShow.getDate():dateToShow.getDate(),monthOfYear=dateToShow.getMonth()+1<10?"0"+(dateToShow.getMonth()+1):dateToShow.getMonth()+1,fullYear=dateToShow.getFullYear();window.availableDates.push({full:dayOfMonth+"-"+monthOfYear+"-"+fullYear,date:dayOfMonth,day:days[dateToShow.getDay()],smallday:daysShort[dateToShow.getDay()],month:months[dateToShow.getMonth()]})}function convertTimeFormat(e,s){var i=s,a=Number(i.match(/^(\d+)/)[1]),t=Number(i.match(/:(\d+)/)[1]),o=i.match(/\s(.*)$/)[1];"PM"==o&&a<12&&(a+=12),"AM"==o&&12==a&&(a-=12);var n=a.toString(),r=t.toString();return a<10&&(n="0"+n),t<10&&(r="0"+r),n+":"+r}$.each(window.availableDates,function(e,s){var i='<div class="dateitem" data-day="'+s.full+'"><span class="day">'+s.smallday.slice(0,3)+'</span><div class="date-container"><span class="date">'+s.date+"</span></div></div>";$(".calendar").append(i)});var vendor24hrStartTime=vendorDetails.today_opening_hour?get24hourFormatNumber(convertTimeFormat("24",vendorDetails.today_opening_hour)):6,todayVendor24hrStartTime=vendor24hrStartTime;"vendor"==pagesource&&(todayVendor24hrStartTime=moment().hour()<vendor24hrStartTime?vendor24hrStartTime:moment().hour());var vendor24hrEndTime=vendorDetails.today_closing_hour?get24hourFormatNumber(convertTimeFormat("24",vendorDetails.today_closing_hour)):23,labelTimeSlots=generateTimeSlotsForSliderLabel(todayVendor24hrStartTime,vendor24hrEndTime),sliderRangeValue=[];function createTimeSlider(e,s){$(".slider").slider({max:s,min:e,range:!0,values:[e,s]}).slider("pips",{rest:"labels",labels:generateTimeSlotsForSliderLabel(e,s)}).slider("float",{labels:generateTimeSlotsForSliderLabel(e,s)}).on("slidechange",function(e,s){if(sliderRangeValue=s.values,"vendor"==pagesource){var i=getVendorDetails();i.timerange=s.values[0]+"-"+s.values[1],trackUserEvent("new_vendor_todays_schedule_slider",i)}displaySlotsAccordingToTimeSelected(sliderRangeValue)})}function generateTimeSlotsForSliderLabel(e,s){for(var i=[],a=e;a<=s;a++)i.push(convertIn12Format(a));return i}function convertIn12Format(e){return 12==e?"12PM":24==e?"12AM":e<12?e%12+"AM":e%12+"PM"}function displaySlotsAccordingToTimeSelected(e){for(var s=$(".service").find("#slot_0").find("li"),i=0;i<s.length;i++)isSlotinTheTimeRange(s[i],e)?$(s[i]).removeClass("hide"):$(s[i]).addClass("hide");showNoSessionAvailableText()}function showNoSessionAvailableText(){for(var e=$(".service"),s=0;s<e.length;s++)isAllSlotsHidden(e[s])?toggleNoSlotsText(e[s],!0):toggleNoSlotsText(e[s],!1)}function isAllSlotsHidden(e){for(var s=$(e).find("#slot_0").find("li"),i=0;i<s.length;i++)if(!$(s[i]).hasClass("hide"))return!1;return!0}function get24hourFormatNumber(e){var s=parseInt(e.split(":")[0]);return"00"==s||0==s?24:s}function toggleNoSlotsText(e,s){var i=$(e).find("#slot_0"),a=$(e).find("#noSlots");s?$(a).hasClass("hide")&&!$(a).next().hasClass("no-slots")&&($(a).removeClass("hide"),$(i).addClass("hide")):($(i).removeClass("hide"),$(a).addClass("hide"))}function isSlotinTheTimeRange(e,s){var i=$(e).attr("data-time");return!!isTimeInTheGivenRange(parseInt(i),s)}function isTimeInTheGivenRange(e,s){var i=s[0],a=s[1];return _.includes(_.range(i,a+1),e)}function getSelectedDate(){for(var e=$(".dateitem"),s=0;s<e.length;s++)if($(e[s]).hasClass("active"))return $(e)[s]}createTimeSlider(todayVendor24hrStartTime,vendor24hrEndTime);var dateClicked=!1,category_array=[],count=0;function showBlockServiceChip(){$(".service-filter-option-block").hasClass("hide")&&$(".service-filter-option-block").removeClass("hide")}function getDayName(e){var s=moment(e,"DD-MM-YYYY HH:mm:ss");return s.format("ddd"),0==isToday(e)?"Today":s.format("ddd")}function isToday(e){var s=e.split("-"),i=moment([moment().get("year"),moment().get("month")+1,moment().get("date")]),a=moment([parseInt(s[2]),parseInt(s[1]),parseInt(s[0])]);return i.diff(a,"days")}$(".dateitem").on("click",function(){if("true"!=doNotShowClassSection){window.pickeddate=$(this).attr("data-day"),$(this).addClass("active").siblings().removeClass("active"),$(".services").empty(),$(".serviceswithnoslots").empty(),$("#timingdrop .lbl").text(timing),$("#loadingslots").show();var e=$(this).attr("data-day").split("-").reverse().join("-"),s={date:e,finder_id:id,recursive:!1,init_source:"vendor",type:"workout_session"};"onepass-vendor"==pagesource&&(s.displaySource="onepass"),$.ajax({method:"POST",url:"/book-a-slot",data:s}).success(function(s){if(dateClicked=!0,$(".services").empty(),0==$(s).find(".service").length)$(".services").append("<div><p style='padding:16px;' class='no-slots'>No Sessions Available For This Day</p></div>");else{$(".services").append(s),_.isEmpty(sliderRangeValue)||displaySlotsAccordingToTimeSelected(sliderRangeValue),"vendor"==pagesource&&(isDateToday(e)?(createTimeSlider(todayVendor24hrStartTime,vendor24hrEndTime),_.isEmpty(sliderRangeValue)?displaySlotsAccordingToTimeSelected([moment().hour(),vendor24hrEndTime]):displaySlotsAccordingToTimeSelected(sliderRangeValue)):createTimeSlider(vendor24hrStartTime,vendor24hrEndTime)),count++,window.pickeddate=$(".available_date").text().split("-").reverse().join("-"),$(".dateitem").each(function(){$(this).attr("data-day")===window.pickeddate&&$(this).addClass("active").siblings().removeClass("active")});var i=$(".service-name-slot.active-name-slot").attr("data-serviceid")||-1;if(-1!==i&&filterServiceBasedOnServiceId(i),"vendor"==pagesource){var a=getVendorDetails();a.date=e,trackUserEvent("new_vendor_todays_schedule_date",a)}}})}}),$(window).on("load",function(){if("true"!=doNotShowClassSection&&"gym"!=vendortype.toLowerCase()){$(".date-container .date")[0].click();var e=getSelectedDate(),s={date:$(e).attr("data-day").split("-").reverse().join("-"),finder_id:$(".vendor-new").attr("data-vendor-id"),recursive:!1,init_source:"vendor",type:"workout_session",onlyServiceName:!0};"onepass-vendor"==pagesource&&(s.displaySource="onepass"),$.ajax({method:"POST",url:"/book-a-slot",data:s}).success(function(e){if(dateClicked=!0,200==e.status){var s=e.data.services_names;if(s.length>=2){"onepass-vendor"==pagesource&&$(".service-filter-option-block").empty();for(var i='<p class="service-name-slot active-name-slot" data-serviceid="-1">All</p>',a=0;a<s.length;a++)s[a].flags&&("onepass-vendor"==pagesource?s[a].flags.classpass_available&&1==s[a].flags.classpass_available&&(i+='<p class="service-name-slot" data-serviceid="'+s[a].service_id+'">'+s[a].service_name+"</p>"):i+='<p class="service-name-slot" data-serviceid="'+s[a].service_id+'">'+s[a].service_name+"</p>");"onepass-vendor"==pagesource?$(".service-filter-option-block").append(i):($(".service-filter-option-block-schedule").append(i),$(".service-filter-option-block-schedule").removeClass("hide"))}}})}}),$(".view-batches-tab").on("click",showBlockServiceChip),$(".date-container").on("click",function(e){$(".date-container").removeClass("active-date"),$(".day").removeClass("active-day");e.target;$(this).addClass("active-date"),$(this).closest(".dateitem").find(".day").addClass("active-day");var s=$(this).closest(".dateitem").attr("data-day");$(".todayspan").text(getDayName(s))});var locationContainer=$("#owl-address");locationContainer.owlCarousel({items:1,singleItem:!0,pagination:!1,mouseDrag:!1,touchDrag:!1,nav:!1,dots:!1});var numberOfLocations=parseInt($("#multilocation").data("multilocation")),locationTab=$("#owl-location");locationTab.owlCarousel({pagination:!1,rewindNav:!1,items:numberOfLocations>4?4:numberOfLocations,itemsTablet:[767,5],itemsMobile:[540,3],nav:!1,dots:!1}),$(".next-location").click(function(){locationTab.trigger("next.owl.carousel")}),$(".prev-location").click(function(){locationTab.trigger("prev.owl.carousel")});var map,fitIcon={path:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z",fillColor:"#259ba1",fillOpacity:1,scale:1.5,strokeColor:"#000000",strokeWeight:.5};function initMap(e,s,i){map=new google.maps.Map(document.getElementById(i),{zoom:e,center:s,scrollwheel:!1,mapTypeControl:!1,streetViewControl:!1})}function trackUserEvent(e,s){"local"!=environment&&"stage"!=environment&&(_.isNull(window.user)||pushUserData(window.user),kyu1.pushevent(e,s))}function pushUserData(e){}function isDateToday(e){var s=e.split("-");s=s[2]+"-"+s[1]+"-"+s[0];var i=moment().get("year")+"-"+(moment().get("month")+1)+"-"+moment().get("date");return moment(e).isSame(i)}function addNewKYUParams(e){return e.pagename="vendorpage",e.source="mobile","desktop"==customer_device_type&&(e.source="desktop"),e}$(".locationselect").click(function(){$(".locationselect").find(".owllocation").removeClass("locationselectcolor"),$(".locationselect").find(".owllocation").addClass("nocolor"),$(this).find(".owllocation").addClass("locationselectcolor"),locationContainer.trigger("to.owl.carousel",parseInt(this.id));var e=$("#location"+this.id).data("lat"),s=$("#location"+this.id).data("lng");initMap(15,{lat:e,lng:s},"location"+this.id),new google.maps.Marker({position:{lat:e,lng:s},icon:fitIcon}).setMap(map)}),$(".vendor-location").on("click","#seemoreaddress",function(e){if(0==$("script[src='//maps.google.com/maps/api/js?key=AIzaSyBtklCjbWKPD9x_dr-vhcpfanY9gtO7axk']").length){var s=document.createElement("script");s.type="text/javascript",s.async=!0,s.defer=!0,s.src="//maps.google.com/maps/api/js?key=AIzaSyBtklCjbWKPD9x_dr-vhcpfanY9gtO7axk";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(s,i)}$.magnificPopup.open({items:{src:"#moreaddress-modal",type:"inline"}}),setTimeout(function(){var e=$("#owl-location").height();$("#owl-location").find(".locationselect").css({height:e+"px"}),$(".next-location").find("button").css({height:e+2+"px"}),$(".prev-location").find("button").css({height:e+2+"px"});var s=$("#location0").data("lat"),i=$("#location0").data("lng");initMap(15,{lat:s,lng:i},"location0"),new google.maps.Marker({position:{lat:s,lng:i},icon:fitIcon}).setMap(map)},500)}),$("#widget").draggable(),document.addEventListener("mousemove",function(e){if($(window).width()>767){var s=localStorage.getItem("shownVod"),i=localStorage.getItem("shownVodCallback");e.pageY-$(window).scrollTop()<=50&&($(".vod-img").attr("src","https://b.fitn.in/global/optimizedimages/Lead%20Magnet%20compressed.png"),s||0!=vendorDetails.commercial_type?i||(void 0!==window.user&&null!==window.user&&($("#vod-info-callback input.fullname").val(window.user.name),$("#vod-info-callback input.mobile").val(window.user.contact_no)),0!=vendorDetails.commercial_type&&($.magnificPopup.open({items:{type:"inline",src:"#vod-info-exit-intent"}}),$("#vod-info-exit-intent").animate({top:"0px"},700)),localStorage.setItem("shownVodCallback",!0)):($.magnificPopup.open({items:{type:"inline",src:"#vod-exit-intent"}}),$("#vod-exit-intent").animate({top:"0px"},700),localStorage.setItem("shownVod",!0)))}});